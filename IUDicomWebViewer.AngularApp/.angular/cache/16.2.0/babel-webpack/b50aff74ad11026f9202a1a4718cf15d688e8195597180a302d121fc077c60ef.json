{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { IuDicomwebviewerService } from '../services/iu-dicomwebviewer.service';\nimport { Router } from '@angular/router';\nimport { Patient } from '../models/Patient';\nimport { MessageService } from 'primeng/api';\nimport { faImage } from '@fortawesome/free-solid-svg-icons';\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\nimport { ScanDetail } from '../models/ScanDetail';\nexport let PatientDashboardComponent = class PatientDashboardComponent {\n  constructor(_IuDicomwebviewerService, messageService, router) {\n    this._IuDicomwebviewerService = _IuDicomwebviewerService;\n    this.messageService = messageService;\n    this.router = router;\n    this.scanDetail = new ScanDetail();\n    this.patientId = '';\n    this.fullName = '';\n    this.sidebarVisible = false;\n    this.faImage = faImage;\n    this.faInfoCircle = faInfoCircle;\n  }\n  ngOnInit() {\n    this.patientList = new Array();\n    this._IuDicomwebviewerService.getAllPatients().subscribe(response => {\n      console.log(response);\n      for (let i = 0; i < response.length; i++) {\n        var patientObj = new Patient();\n        patientObj.Id = response[i][\"id\"];\n        patientObj.PatientId = response[i][\"patientId\"];\n        patientObj.FirstName = response[i][\"firstName\"];\n        patientObj.LastName = response[i][\"lastName\"];\n        patientObj.Gender = response[i][\"gender\"];\n        patientObj.DateOfBirth = response[i][\"dateOfBirth\"];\n        patientObj.PatientCreatedDate = response[i][\"patientCreatedDate\"];\n        patientObj.ScanDetails = response[i][\"scanDetails\"];\n        this.patientList.push(patientObj);\n      }\n      //console.log(this.patientList[0].FirstName)\n    });\n  }\n\n  getAllPatients() {}\n  selectPatient(item) {\n    const data = {\n      key: '2.57.299.2709.41320.615801.4965911.64446389'\n    };\n    this._IuDicomwebviewerService.setStudyId(data);\n    this.messageService.add({\n      severity: 'info',\n      summary: 'Patient selected',\n      detail: item.FirstName\n    });\n    this.router.navigate(['/patientdashboard/viewimages']);\n  }\n  selectPatientforScanDetails(item) {\n    console.log(item.PatientId);\n    this._IuDicomwebviewerService.getScanDetailsbyPatientId(item.PatientId.toString()).subscribe(response => {\n      console.log(response);\n      this.scanDetail.Id = response[0]['id'];\n      this.scanDetail.ImageModality = response[0]['imageModality'];\n      this.scanDetail.ImageType = response[0]['imageType'];\n      this.scanDetail.Patient = response[0]['patient'];\n      this.scanDetail.ScannedDate = response[0]['scannedDate'];\n      this.scanDetail.SeriesId = response[0]['seriesId'];\n      console.log(this.scanDetail.SeriesId);\n      this.patientId = this.scanDetail.Patient['patientId'];\n      this.fullName = this.scanDetail.Patient['firstName'] + \" \" + this.scanDetail.Patient['lastName'];\n    });\n    this.sidebarVisible = true;\n  }\n};\nPatientDashboardComponent = __decorate([Component({\n  selector: 'app-patient-dashboard',\n  templateUrl: './patient-dashboard.component.html',\n  styleUrls: ['./patient-dashboard.component.css'],\n  providers: [MessageService]\n}), __metadata(\"design:paramtypes\", [IuDicomwebviewerService, MessageService, Router])], PatientDashboardComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}